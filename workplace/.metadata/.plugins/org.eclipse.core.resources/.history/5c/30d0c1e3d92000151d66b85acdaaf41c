package org.DAO.Spring;

import org.DAO.Spring.DAOServices.JdbcDAOimplementer;
import org.DAO.Spring.DAOServices.JdbcService;
import org.DAO.Spring.model.User;
import org.springframework.context.support.AbstractApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class SpringDao {

	public static void main(String[] args) {
		AbstractApplicationContext context = new ClassPathXmlApplicationContext("spring.xml");
		context.registerShutdownHook();
		JdbcService serv = (JdbcService)context.getBean("jdbcService");
		//JdbcDAOimplementer jdbcdaoimpl = (JdbcDAOimplementer)context.getBean("jdbcDAOimplementer");
		//System.out.println("Count generated by Suport aquired jdbcDAOimplementer is " +jdbcdaoimpl.getUserCount());
		
		/*User user = new User(1,"Anurag");
		serv.insertUser(user);
		serv.insertUser_namedparam(new User(4,"Pankaj"));*/
		
		String username = serv.getUser_usingJDBCtemp(4);
		int count = serv.userCount();
		//System.out.println(user.getUid()+" "+user.getUname());
		System.err.println(username+"\n[TOTAL USER] "+count);
	}

}
